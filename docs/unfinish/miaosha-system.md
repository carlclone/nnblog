todoo

504 网格超时    分析步骤 过程

熟悉的消息队列组件 ， 优缺点






# 秒杀系统总结

秒杀逻辑主要由三部分构成，订单生成，库存扣减，支付

传统的单机一般是直接在数据库中进行扣减，由于这期中的网络IO和数据库IO非常耗时，并不适合这类高并发场景，一定撑不住

因此要想办法减少IO耗时，一种方法是直接避免网络IO和数据库IO

IO的耗时排名依次是 CPU缓存->内存->HDD->SSD->网络

因此想办法将订单生成和库存扣减放到单台机器的内存中进行处理，但是数据最终都还是要入库的，而告知用户秒杀成功是瞬时的，所以在这里将库存扣减放到内存中处理，而订单生成则通过消息队列异步执行 ， 这是一种预扣库存，并且用户可以实时得到结果的解决方案

另一种更简单的解决方案是直接将库存扣减和订单生成都异步，然后异步通知用户，但这样用户体验会降低



## 参考

秒杀文章阅读 https://github.com/GuoZhaoran/spikeSystem